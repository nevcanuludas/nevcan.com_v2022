import{d as h,c as o,a as t,b as n,e as c,r as y,t as d,n as f,o as a,_ as b}from"./index-D3CF5qAO.js";const v=h({data(){return{selectedFile:null,isLoading:!1,error:"",analysisResult:null,imagePreviewUrl:"",uploadedImageHeight:350}},methods:{triggerFileSelect(){const s=this.$el.querySelector('input[type="file"]');s==null||s.click()},handleFileChange(s){var l;const e=s.target;(l=e==null?void 0:e.files)!=null&&l.length&&(this.selectedFile=e.files[0],this.imagePreviewUrl=URL.createObjectURL(this.selectedFile),this.isLoading=!0,this.analysisResult=null,this.error="",setTimeout(()=>{this.isLoading=!1,this.analysisResult={label:"Likely: Richborough 527 Amphora",confidence:"Confidence: 98.3%"}},4e3))},resetAnalysis(){this.selectedFile=null,this.isLoading=!1,this.error="",this.analysisResult=null,this.imagePreviewUrl=""},rotateCamera(s,e){const l=document.querySelector("model-viewer");if(!l||!l.cameraOrbit)return;const u=l.getCameraOrbit(),{theta:m,phi:g,radius:r}=u;let i=m,p=g;s==="y"?i+=e*(Math.PI/180):s==="x"&&(p+=e*(Math.PI/180)),l.cameraOrbit=`${i}rad ${p}rad ${r}m`},setUploadedImageHeight(s){const e=s.target;e&&e.naturalHeight&&(this.uploadedImageHeight=e.offsetHeight)}}}),C={class:"section",id:"analyze"},k={class:"container has-text-centered"},w={class:"columns is-multiline"},F={class:"column is-12"},R={key:0,class:"lottie-placeholder mb-4"},$={class:"buttons is-fullwidth is-flex is-justify-content-center"},A={key:0,class:"column is-6"},I={class:"box"},U={class:"image mb-4"},H=["src"],L={class:"notification"},P={class:"column is-6"},S={key:0,class:"notification"},j={key:1,class:"box"},V={class:"buttons mt-3 is-flex is-flex-wrap-wrap is-justify-content-center"},M={class:"content mt-4"},O={class:"has-text-weight-bold"};function z(s,e,l,u,m,g){const r=y("lottie-player");return a(),o("section",C,[t("div",k,[e[14]||(e[14]=t("h1",{class:"title is-2"},"Image Analysis",-1)),t("div",w,[t("div",F,[s.selectedFile?n("",!0):(a(),o("div",R,[c(r,{src:"./animations/upload-image.json",background:"transparent",speed:"1",style:{width:"300px",height:"300px",margin:"auto"},autoplay:"",loop:""})])),t("input",{class:"file-input",type:"file",accept:"image/*",ref:"fileInput",onChange:e[0]||(e[0]=(...i)=>s.handleFileChange&&s.handleFileChange(...i))},null,544),t("div",$,[t("button",{class:"button is-primary",onClick:e[1]||(e[1]=(...i)=>s.triggerFileSelect&&s.triggerFileSelect(...i))},e[8]||(e[8]=[t("span",{class:"icon"},[t("i",{class:"fas fa-image"})],-1),t("span",null,"Choose Photo",-1)])),s.selectedFile?(a(),o("button",{key:0,class:"button is-light",onClick:e[2]||(e[2]=(...i)=>s.resetAnalysis&&s.resetAnalysis(...i))},e[9]||(e[9]=[t("span",{class:"icon"},[t("i",{class:"fas fa-undo"})],-1),t("span",null,"Clear",-1)]))):n("",!0)])]),s.selectedFile?(a(),o("div",A,[t("div",I,[e[10]||(e[10]=t("h3",{class:"title is-5"},"Selected File:",-1)),t("figure",U,[t("img",{src:s.imagePreviewUrl,alt:"Uploaded Image",style:{"min-height":"300px",margin:"auto"},onLoad:e[3]||(e[3]=(...i)=>s.setUploadedImageHeight&&s.setUploadedImageHeight(...i))},null,40,H)]),t("div",L,[t("p",null,d(s.selectedFile.name),1)])])])):n("",!0),t("div",P,[s.isLoading?(a(),o("div",S,[e[11]||(e[11]=t("p",null,"Analysis is underway...",-1)),c(r,{src:"./animations/loading-ai.json",background:"transparent",speed:"1",style:{width:"200px",height:"200px",margin:"auto"},autoplay:"",loop:""})])):n("",!0),s.analysisResult?(a(),o("div",j,[e[13]||(e[13]=t("h3",{class:"title is-5"},"Analysis Result:",-1)),t("model-viewer",{src:"./models/Richborough_527_DRRICH1A.glb",alt:"3D Amphora Model","auto-rotate":"","camera-controls":"",style:f(`width: 100%; height: ${s.uploadedImageHeight}px; background-color: #ccc`)},null,4),t("div",V,[t("button",{class:"button is-small mx-1",onClick:e[4]||(e[4]=i=>s.rotateCamera("x",30))},"+X"),t("button",{class:"button is-small mx-1",onClick:e[5]||(e[5]=i=>s.rotateCamera("x",-30))},"-X"),t("button",{class:"button is-small mx-1",onClick:e[6]||(e[6]=i=>s.rotateCamera("y",30))},"+Y"),t("button",{class:"button is-small mx-1",onClick:e[7]||(e[7]=i=>s.rotateCamera("y",-30))},"-Y")]),t("div",M,[t("p",O,d(s.analysisResult.label),1),t("p",null,d(s.analysisResult.confidence),1),e[12]||(e[12]=t("p",null,"Model: Richborough 527 Amphora",-1))])])):n("",!0)])])])])}const D=b(v,[["render",z]]);export{D as default};
