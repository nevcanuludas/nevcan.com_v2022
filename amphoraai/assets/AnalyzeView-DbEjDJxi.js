import{d as h,c as o,a as s,b as a,t as d,e as p,r as y,o as n,_ as f}from"./index-BLMve7O2.js";const b=h({data(){return{selectedFile:null,isLoading:!1,error:"",analysisResult:null,imagePreviewUrl:""}},methods:{triggerFileSelect(){const t=this.$el.querySelector('input[type="file"]');t==null||t.click()},handleFileChange(t){var l;const e=t.target;(l=e==null?void 0:e.files)!=null&&l.length&&(this.selectedFile=e.files[0],this.imagePreviewUrl=URL.createObjectURL(this.selectedFile),this.isLoading=!0,this.analysisResult=null,this.error="",setTimeout(()=>{this.isLoading=!1,this.analysisResult={label:"Likely: Richborough 527 Amphora",confidence:"Confidence: 98.3%"}},4e3))},resetAnalysis(){this.selectedFile=null,this.isLoading=!1,this.error="",this.analysisResult=null,this.imagePreviewUrl=""},rotateCamera(t,e){const l=document.querySelector("model-viewer");if(!l||!l.cameraOrbit)return;const u=l.getCameraOrbit(),{theta:m,phi:c,radius:r}=u;let i=m,g=c;t==="y"?i+=e*(Math.PI/180):t==="x"&&(g+=e*(Math.PI/180)),l.cameraOrbit=`${i}rad ${g}rad ${r}m`}}}),v={class:"section",id:"analyze"},C={class:"container has-text-centered"},w={class:"columns is-multiline"},k={class:"column is-12"},R={class:"buttons is-fullwidth has-text-centered"},F={key:0,class:"column is-6"},$={class:"box"},A={class:"image mb-4"},L=["src"],P={class:"notification"},S={class:"column is-6"},U={key:0,class:"notification"},I={key:1,class:"box"},V={class:"buttons mt-3 is-flex is-flex-wrap-wrap is-justify-content-center"},M={class:"content mt-4"},O={class:"has-text-weight-bold"};function j(t,e,l,u,m,c){const r=y("lottie-player");return n(),o("section",v,[s("div",C,[e[14]||(e[14]=s("h1",{class:"title is-2"},"Image Analysis",-1)),s("div",w,[s("div",k,[s("input",{class:"file-input",type:"file",accept:"image/*",ref:"fileInput",onChange:e[0]||(e[0]=(...i)=>t.handleFileChange&&t.handleFileChange(...i))},null,544),s("div",R,[s("button",{class:"button is-primary",onClick:e[1]||(e[1]=(...i)=>t.triggerFileSelect&&t.triggerFileSelect(...i))},e[7]||(e[7]=[s("span",{class:"icon"},[s("i",{class:"fas fa-image"})],-1),s("span",null,"Choose Photo",-1)])),t.selectedFile?(n(),o("button",{key:0,class:"button is-light",onClick:e[2]||(e[2]=(...i)=>t.resetAnalysis&&t.resetAnalysis(...i))},e[8]||(e[8]=[s("span",{class:"icon"},[s("i",{class:"fas fa-undo"})],-1),s("span",null,"Clear",-1)]))):a("",!0)])]),t.selectedFile?(n(),o("div",F,[s("div",$,[e[9]||(e[9]=s("h3",{class:"title is-5"},"Selected File:",-1)),s("figure",A,[s("img",{src:t.imagePreviewUrl,alt:"Uploaded Image",style:{"max-height":"300px",margin:"auto"}},null,8,L)]),s("div",P,[s("p",null,d(t.selectedFile.name),1)])])])):a("",!0),s("div",S,[t.isLoading?(n(),o("div",U,[e[10]||(e[10]=s("p",null,"Analysis is underway...",-1)),p(r,{src:"/animations/loading-ai.json",background:"transparent",speed:"1",style:{width:"200px",height:"200px",margin:"auto"},autoplay:"",loop:""})])):a("",!0),t.analysisResult?(n(),o("div",I,[e[12]||(e[12]=s("h3",{class:"title is-5"},"Analysis Result:",-1)),e[13]||(e[13]=s("model-viewer",{src:"/models/Richborough_527_DRRICH1A.glb",alt:"3D Amphora Model","auto-rotate":"","camera-controls":"",style:{width:"100%",height:"350px","background-color":"#ccc"}},null,-1)),s("div",V,[s("button",{class:"button is-small mx-1",onClick:e[3]||(e[3]=i=>t.rotateCamera("x",30))},"+X"),s("button",{class:"button is-small mx-1",onClick:e[4]||(e[4]=i=>t.rotateCamera("x",-30))},"-X"),s("button",{class:"button is-small mx-1",onClick:e[5]||(e[5]=i=>t.rotateCamera("y",30))},"+Y"),s("button",{class:"button is-small mx-1",onClick:e[6]||(e[6]=i=>t.rotateCamera("y",-30))},"-Y")]),s("div",M,[s("p",O,d(t.analysisResult.label),1),s("p",null,d(t.analysisResult.confidence),1),e[11]||(e[11]=s("p",null,"Model: Richborough 527 Amphora",-1))])])):a("",!0)])])])])}const B=f(b,[["render",j]]);export{B as default};
